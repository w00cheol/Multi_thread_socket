# λ©€ν‹° μ¤λ λ“ κΈ°λ° TCP/IP μ†μΌ“ μ„λ²„ λ° ν΄λΌμ΄μ–ΈνΈ κµ¬ν„ (λ°”μΉ΄λΌ π‚΅)

---
#### λ™μ‘κ³Όμ •
---
1. μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†μ„ μ”μ²­ν•  λ•λ§λ‹¤ μƒλ΅μ΄ μ¤λ λ“λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
2. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ ‘μ†ν•μ—¬ μ„ νƒμ§€λ¥Ό μ–»μµλ‹λ‹¤ (λ°© μƒμ„±, λ°© μ…μ¥, κ²μ„ μΆ…λ£)
3. λ°©μ„ μƒμ„±ν• ν΄λΌμ΄μ–ΈνΈλ”, μƒλ΅μ΄ ν΄λΌμ΄μ–ΈνΈμ μ…μ¥μ„ κΈ°λ‹¤λ¦½λ‹λ‹¤.
4. λλ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈκ°€ λ°©μ— μ…μ¥ν•λ©΄ κ²μ„μ΄ μ‹μ‘λ©λ‹λ‹¤.
5. κ²μ„μ΄ μΆ…λ£λ ν›„μ—λ” λ΅λΉ„λ΅ λμ•„κ°‘λ‹λ‹¤.



---
#### μ μ©κΈ°μ 
---
- VMware (Ubuntu 18.04 LTS)
- Socket
- Multi thread
- Mutex
- File stream

---
#### μ‹¤ν–‰λ°©λ²•
---


1. Linux κΈ°λ° OSμ—μ„ μ‹μ‘ν•©λ‹λ‹¤. (μ΄ ν”„λ΅κ·Έλ¨μ€ Ubuntu 18.04 LTS μ—μ„ μ‘μ„±λμ—μµλ‹λ‹¤.)
2. μ΄ λ ν¬μ§€ν† λ¦¬ ν΄λ” μ•μ—μ„ ν„°λ―Έλ„μ„ μ‹¤ν–‰ν•©λ‹λ‹¤.
3. μ„λ²„λ¥Ό κµ¬λ™μ‹ν‚µλ‹λ‹¤.

<pre> ./server <ν¬νΈλ²νΈ> </pre>


4. μƒλ΅μ΄ ν„°λ―Έλ„ λ‚΄μ—μ„ μ„λ²„μ— μ…μ¥ν•©λ‹λ‹¤.
<pre> ./client <μ„λ²„ IP(=127.0.0.1)> <ν¬νΈλ²νΈ> <λ‹‰λ„¤μ„></pre>


5. <strong>λ§μ•½ ν”„λ΅κ·Έλ¨μ΄ μ •μƒμ μΌλ΅ μ‘λ™ν•μ§€ μ•λ”λ‹¤λ©΄, μ•„λ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ ν• ν›„ 3, 4λ²μ„ μ¬μ‹λ„ν•©λ‹λ‹¤.</strong>

 <pre>
 make clean

 make server

 make client
</pre>





---
#### μ΄κΈ° κµ¬μ„±
---
![](https://user-images.githubusercontent.com/53927414/170985821-cd135ac5-15bb-4976-891e-81b7705b21ea.png)

* μ„λ²„λ¥Ό μ—΄κ³  4λ…μ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν•©λ‹λ‹¤.


---
#### ν”„λ΅μ„Έμ¤ ν™•μΈ (pstree λ…λ Ήμ–΄)
---
![](https://user-images.githubusercontent.com/53927414/170966796-ef59223d-22a6-4b84-b672-f9178aa8e714.png)

* pstree λ…λ Ήμ–΄λ΅ ν”„λ΅μ„Έμ¤ λ° μ¤λ λ“λ¥Ό ν™•μΈν•©λ‹λ‹¤.

* ν„μ¬ μ‚¬μ©μκ°€ 4λ…μ΄λ―€λ΅ 4κ°μ μ¤λ λ“λ¥Ό κ°€μ§€λ” μ„λ²„ ν”„λ΅μ„Έμ¤ thread_s 1κ°κ°€ μ΅΄μ¬ν•©λ‹λ‹¤.

* 1κ°μ μ¤λ λ“λ¥Ό κ°€μ§€λ” ν΄λΌμ΄μ–ΈνΈ ν”„λ΅μ„Έμ¤ thread_c 4κ°κ°€ μ΅΄μ¬ν•©λ‹λ‹¤.



---
#### κ²μ„ κµ¬λ™
---
![](https://user-images.githubusercontent.com/53927414/170966815-75fffc70-9c1d-46a1-bd7d-1f5d88a6d830.png)

* κ²μ„ μƒν™©μ…λ‹λ‹¤.

* wooμ™€ aliceκ°€ 1λ² λ°©μ—μ„ κ²μ„μ„ μ‹μ‘ν–μµλ‹λ‹¤.

* aliceμ ν¨κ°€ wooμ ν¨λ³΄λ‹¤ λ†’μ•„ κ²μ„μ„ μΉλ¦¬ν–κ³  κΈμ•΅μ„ μ–»κ² λ©λ‹λ‹¤. 



---
#### μμ™Έ μ²λ¦¬
---
![](https://user-images.githubusercontent.com/53927414/170966902-e4bda9b6-e4d0-473d-ba08-4dda6b3bb194.png)

* μ΄λ²μ—λ” bobμ΄ κ²μ„ λ°© μƒμ„±μ„ μ”μ²­ν•©λ‹λ‹¤.

* 1λ² λ°©μ€ κΈ°μ΅΄μ— μ‚¬μ©λμ—μ—μ§€λ§ μ΄λ―Έ ν΄λΌμ΄μ–ΈνΈκ°€ λ– λ‚κ³  λΉ„μ–΄μλ” λ°©μ΄λ―€λ΅ λ λ‹¤μ‹ 1λ² λ°©μ„ λ°°μ •λ°›μµλ‹λ‹¤.

* wooλ” 1λ² λ°©μ— μ…μ¥ν•©λ‹λ‹¤.

* κ²μ„μ΄ μ‹μ‘λκ³  bobμ΄ κΈ°κ¶ν•μ€μµλ‹λ‹¤.

* μ–‘ μ„ μκ°€ λ² ν…ν•μ§€ μ•μ•„ μ”μ•΅μ€ λ―Έλ™μ…λ‹λ‹¤.



---
#### μ„λ²„ λ‹¨ μ¶λ ¥
---
![](https://user-images.githubusercontent.com/53927414/170967011-a8e351ad-9b28-4af1-854d-a06bf04e195a.png)

* woo, bob, alice, trudy λ¨λ‘κ°€ κ²μ„μ„ μΆ…λ£ν• μƒν™©μ…λ‹λ‹¤.

* μ„λ²„μ— λ¬Έκµ¬κ°€ μ¶λ ¥λ©λ‹λ‹¤.




#### νμΌ μ…μ¶λ ¥ λ° μ €μ¥
![](https://user-images.githubusercontent.com/53927414/170967091-2122f36e-d60a-4b8e-add1-045edc02ad54.png)

* server.txt μ…λ‹λ‹¤.

* κ°κ° μ„λ²„ μ¤λ λ“κ°€ μ£Όμ” λ‚΄μ—­μ„ μ μ–΄ λ„£μµλ‹λ‹¤.
